# MYTH Comprehensive Test Suite (`testing/`)

The `testing/` directory contains a robust, modular test suite for the MYTH project.
It covers configuration, core imports, tool discovery, invokability, MCP integration, and RAG systems.

## Usage

Run the master runner from the project root:

```bash
# Run all tests (slow, includes invocations)
python testing/run_all.py

# Run only fast tests (skips tool invocations)
python testing/run_all.py --fast

# Run a specific module
python testing/run_all.py --module test_config
```

## Reports & Artifacts

After running the tests or the dependency audit, the following files are generated/updated in this folder:

| File | Description |
|------|-------------|
| `test_errors.txt` | Detailed failure report (generated automatically if `run_all.py` fails). |
| `DEPENDENCIES.md` | Comprehensive source-code dependency audit (generated by `audit_dependencies.py`). |

## Modules

| File | Description |
|------|-------------|
| `conftest.py` | Shared utilities, path setup, `ResultTracker`, and ANSI colors. |
| `test_config.py` | Verifies `myth_config.py` loads correctly and defines all required keys. |
| `test_core_imports.py` | Checks that key system modules (backend, api, etc.) can import. |
| `test_tool_imports.py` | Tries importing every tool module in `tools/` to catch syntax errors. |
| `test_tool_discovery.py` | Verifies `tools.get_all_tools()` finds tools and categories match. |
| `test_tool_invocations.py` | (Slow) Actually calls `ainvoke()` on tools with dummy arguments. |
| `test_mcp_servers.py` | Checks if MCP server scripts are importable/runnable. |
| `test_mcp_client.py` | Tests the MCP client infrastructure and functionality. |
| `test_rag_system.py` | Verifies RAG components (vector store, document processor). |
| `audit_dependencies.py` | Scans source code for imports, binaries, and API keys. |

## Reading Results

- **✓ PASS** — Module/tool imported/executed without errors
- **✗ FAIL** — An exception was raised (with traceback shown)
- **⚠ WARN** — Tool timed out (likely network-dependent) or minor issue
- **SKIP** — File not found or optional component

The final summary table shows pass/fail/skip counts per module and total execution time.
